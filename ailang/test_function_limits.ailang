// test_function_limits.ailang
// Test function call depth and limits

PrintMessage("Function Limits Test")
PrintMessage("====================")

// Test mutual function calls
Function.A.CallB {
    Input: n:
    Body: {
        PrintNumber(n)
        is_done = EqualTo(n, 0)
        IfCondition is_done ThenBlock {
            ReturnValue(0)
        }
        next = Subtract(n, 1)
        result = B.CallA(next)
        ReturnValue(result)
    }
}

Function.B.CallA {
    Input: n:
    Body: {
        PrintNumber(n)
        is_done = EqualTo(n, 0)
        IfCondition is_done ThenBlock {
            ReturnValue(0)
        }
        next = Subtract(n, 1)
        result = A.CallB(next)
        ReturnValue(result)
    }
}

PrintMessage("Mutual recursion test (5 deep):")
result = A.CallB(5)

PrintMessage("Function limits test complete!")