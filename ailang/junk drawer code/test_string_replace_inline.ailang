// test_string_replace_inline.ailang
// Test StringReplace in a loop WITHOUT calling StringReplaceAll

Function.Main {
    Input: ()
    Output: Integer
    Body: {
        PrintMessage("Testing inline replace loop...")
        
        text = "Hello World"
        PrintMessage(StringConcat("Before: ", text))
        
        // Manually do what StringReplaceAll does
        iteration = 0
        max_iterations = 10
        
        WhileLoop LessThan(iteration, max_iterations) {
            pos = StringIndexOf(text, "o")
            
            IfCondition LessThan(pos, 0) ThenBlock: {
                PrintMessage("No more matches found")
                BreakLoop
            }
            
            PrintMessage(StringConcat("Found at position: ", NumberToString(pos)))
            
            // Do one replacement
            text = StringReplace(text, "o", "0")
            
            PrintMessage(StringConcat("After replacement: ", text))
            
            iteration = Add(iteration, 1)
        }
        
        PrintMessage(StringConcat("Final result: ", text))
        
        ReturnValue(0)
    }
}