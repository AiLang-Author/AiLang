// Test ProcessFork
PrintMessage("Testing ProcessFork...")
pid = ProcessFork()

IfCondition EqualTo(pid, 0) ThenBlock: {
    // Child process
    PrintMessage("Child: I am the child process")
    child_pid = ProcessGetPID()
    PrintMessage("Child: My PID is ")
    PrintNumber(child_pid)
    ProcessExit(0)
} ElseBlock: {
    // Parent process
    PrintMessage("Parent: Child PID is ")
    PrintNumber(pid)
    
    // Wait for child
    result = ProcessWait(pid, 0)
    PrintMessage("Parent: Child exited, result ")
    PrintNumber(result)
}

PrintMessage("Test complete!")